(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),i=(n(17),n(2)),s=n(3),l=n(5),u=n(4),m=n(6),d="https://calendar.google.com/calendar/embed?src=huvrl6on8orta0eq5jvpufjvhg%40group.calendar.google.com";function h(e){var t=e.text;return t=t||"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0438 \u0432 Google \u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u0456",r.a.createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer"},t)}var v=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.hasError?r.a.createElement("p",{className:"epic-fail-error"},"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a :( \u0410\u043b\u0435 \u0432 \u043d\u0430\u0441 \u0454 \u0449\u0435 ",r.a.createElement(h,{text:"Google \u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440"})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),f=n(10),p=n(7),g=n(1),D=["\u043d\u0435\u0434\u0456\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0441\u0435\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440","\u043f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0441\u0443\u0431\u043e\u0442\u0430"],w=["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"];function E(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n}function _(e){return b((e=new Date(e)).getHours())+":"+b(e.getMinutes())}function b(e){return e.toString().padStart(2,"0")}function k(){var e=new Date;for(e.setHours(0),e.setMinutes(0);1!==e.getDay();)e.setDate(e.getDate()-1);return e}function y(e){var t=e.startDate,n=e.endDate,a=e.incrementDate;return r.a.createElement("div",{className:"calendar__week-switcher"},r.a.createElement("button",{className:"calendar__week-switcher-button",onClick:function(){return a(-7)}},"<"),r.a.createElement("button",{className:"calendar__week-switcher-button",onClick:function(){return a(7)}},">"),r.a.createElement("h2",{className:"calendar__week-title"},function(e,t){t=E(t,-1);var n=w[e.getMonth()].toLocaleLowerCase(),a=w[t.getMonth()].toLocaleLowerCase();return n===a?"".concat(n," ").concat(e.getDate()," - ").concat(t.getDate()):"".concat(n," ").concat(e.getDate()," - ").concat(a," ").concat(t.getDate())}(t,n)))}var O="https://www.googleapis.com/calendar/v3/calendars/".concat("huvrl6on8orta0eq5jvpufjvhg@group.calendar.google.com","/events");function j(e,t){var n=new URL(O);return n.search=function(e,t){return new URLSearchParams({key:"AIzaSyCSfbZP7HVduNPD1s-1aVwQe5pSYWn8WSk",singleEvents:!0,showDeleted:!1,orderBy:"startTime",timeMin:e.toISOString(),timeMax:t.toISOString()})}(e,t),fetch(n).then(function(e){return e.json()}).then(function(e){if(e.error)throw e.error;return e})}var N=[{name:"morning",endHour:11},{name:"day",endHour:18},{name:"evening",endHour:24}];function S(e){var t;try{t=function(e){if(!e)return[r.a.createElement(r.a.Fragment,{key:0})];var t=/https:\/\/www\.facebook\.com\/events\/\d+\//g,n=e.split(t),a=n.values(),c=e.match(t);c&&(c=c.values());for(var o,i=[],s=2*n.length-1,l=0;l<s;l++)l%2?(o=c.next().value,i.push(r.a.createElement("a",{key:l,href:o,target:"_blank",rel:"noopener noreferrer",className:"fb-link"},"\u043f\u043e\u0434\u0456\u044f \u043d\u0430 fb"))):(o=a.next().value)&&i.push(r.a.createElement(r.a.Fragment,{key:l},o));return i}(e.description)}catch(a){t=[r.a.createElement(r.a.Fragment,{key:0},e.description)]}var n={id:e.id,summary:e.summary,description:t,startDT:new Date(e.start.dateTime),endDT:new Date(e.end.dateTime)};if(isNaN(n.startDT)||isNaN(n.endDT))throw new Error("Could not parse datetimes");return n}function C(e,t,n){var a=[],r=(n=Array.from(n).reverse()).pop(),c=[],o=!0,i=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){for(var m=l.value;void 0!==r&&t(m,r);)c.push(r),r=n.pop();a.push([m,c]),c=[]}}catch(d){i=!0,s=d}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}return a}function L(e,t,n){return C(function(e,t){for(var n=[e];n[n.length-1]<t;)n.push(E(n[n.length-1],1));return n}(t,n),function(e,t){return n=e,a=t.startDT,n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()&&n.getDate()===a.getDate();var n,a},e)}n(18);var T=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={events:[],startDate:k(),showDescriptionOn:void 0,removeClickListener:function(){},errorLoading:!1},n.showDescirption=n.showDescirption.bind(Object(g.a)(Object(g.a)(n))),n.updateEvents=n.updateEvents.bind(Object(g.a)(Object(g.a)(n))),n.incrementStartDate=n.incrementStartDate.bind(Object(g.a)(Object(g.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"showDescirption",value:function(e,t){var n=this;this.state.removeClickListener(),this.setState({showDescriptionOn:e},function(){if(t){var e=function(e,t){var n=function(n){e.contains(n.target)||t()};return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}(t,function(){return n.setState({showDescriptionOn:null})});n.setState({removeClickListener:e})}})}},{key:"incrementStartDate",value:function(e){var t=this;this.setState(function(t){return{startDate:E(t.startDate,e)}},function(){return t.updateEvents()})}},{key:"updateEvents",value:function(){var e=this,t=E(this.state.startDate,7);j(this.state.startDate,t).then(function(t){e.setState({events:Object(p.a)(t.items.filter(function(e){return!("cancelled"===e.status)}).reduce(function(e,t){try{e.push(S(t))}catch(n){}return e},[]))})},function(t){return e.setState({errorLoading:!0})})}},{key:"componentDidMount",value:function(){this.updateEvents()}},{key:"render",value:function(){var e=this,t=this.state.startDate,n=E(t,7),a=L(this.state.events.map(function(t){return Object(f.a)({},t,{descriptionVisible:t.id===e.state.showDescriptionOn,showDescirption:function(n){return e.showDescirption(t.id,n)},hideDescription:function(){return e.showDescirption()}})}),t,n).slice(0,7).map(function(e){return r.a.createElement(H,{date:e[0],events:e[1],key:e})});return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{startDate:t,endDate:n,incrementDate:this.incrementStartDate}),r.a.createElement("div",{className:"calendar"},a),this.state.errorLoading?r.a.createElement("p",{className:"loading-error"},"\u0412\u0438\u0431\u0430\u0447\u0442\u0435, \u043d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u043f\u043e\u0434\u0456\u0457, \u0434\u0438\u0432\u0456\u0442\u044c\u0441\u044f \u0443 ",r.a.createElement(h,{text:"Google \u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u0456"})):r.a.createElement("p",{className:"google-cal-link"},r.a.createElement(h,null)))}}]),t}(r.a.Component),M=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).descriptionElement=r.a.createRef(),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.event,n=t.summary,a=t.description,c=t.startDT,o=t.endDT,i=t.showDescirption,s=t.descriptionVisible,l=t.hideDescription,u="calendar__event-time "+(s?"calendar__event-time_em":"");return r.a.createElement("article",{className:"calendar__event"},r.a.createElement("h3",{className:"calendar__event-title",onClick:function(){i(e.descriptionElement.current)}},n),r.a.createElement("p",{className:u},_(c)," - ",_(o)),r.a.createElement(x,{summary:n,description:a,hide:l,hidden:!s,elementRef:this.descriptionElement}))}}]),t}(r.a.Component);function x(e){var t=e.summary,n=e.description,a=e.hidden,c=e.hide,o=e.elementRef,i="calendar__event-description "+(a?"calendar__event-description_hidden":"");return r.a.createElement("div",{className:i,ref:o},r.a.createElement("h3",{className:"calendar__event-description-title"},t),r.a.createElement("p",{className:"calendar__event-description-text"},n),r.a.createElement("div",{onClick:c,className:"calendar__close-event-descr-btn",title:"\u0437\u0430\u043a\u0440\u0438\u0442\u0438"},"\xd7"))}function F(e){var t=e.name,n=e.events,a=e.dow,c="calendar__slot calendar__slot_day_".concat(a," calendar__slot_").concat(t),o=n.map(function(e){return r.a.createElement(M,{key:e.id,event:e})});return r.a.createElement("div",{className:c},o)}function H(e){var t,n=e.date,a=e.events,c=n.getDay(),o=D[c],i=function(e){var t=C(N,function(e,t){return t.startDT.getHours()<e.endHour},e).map(function(e){return[e[0].name,e[1]]});return Object(p.a)(t)}(a).map(function(e){return r.a.createElement(F,{name:e[0],key:e[0],events:e[1],dow:c})}),s="calendar__slot "+("calendar__slot_day_"+c);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:s+" calendar__slot_label"},r.a.createElement("h3",{className:"calendar__dow_title"},o),r.a.createElement("p",{className:"calendar__date"},"".concat(b((t=n).getMonth()+1),".").concat(b(t.getDate())))),i)}var R=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(v,null," ",r.a.createElement(T,null)," ")}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.1d9591bb.chunk.js.map